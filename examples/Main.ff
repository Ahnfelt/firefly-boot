main(system: System): Unit {
    each(system.files.list(".")) { file =>
        system.writeLine(file)
    }
}

each[T](list: List[T], body: T => Unit): Unit {
    | Empty, _ =>
    | Link(head, tail), _ =>
        body(head)
        each(tail, body)
}
