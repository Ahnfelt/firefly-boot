import WebSocket

capability BrowserSystem {}

extend self: BrowserSystem {

    httpClient(): HttpClient
        target js async "return null"

    mainTask(): Task
        target js async "return self_.task_"

    js(): JsSystem
        target js async "return typeof globalThis !== 'undefined' ? globalThis : window"

    webSocket(url: String): WebSocket {
        WebSocket.internalOpenBrowserWebSocket(self, url)
    }
               
}
