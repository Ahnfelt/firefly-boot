generateAndDraw(context: JsValue) {
    let imageData = context->createImageData(width, height)
    generate(imageData->data)
    context->putImageData(imageData, 0, 0)
}

generate(data: JsValue) {
    mutable i = 0
    0.until(height).each {y =>
        0.until(width).each {x =>
            data.set(i, 255)
            i += 1
            data.set(i, 255)
            i += 1
            data.set(i, 255)
            i += 1
            data.set(i, x)
            i += 1
        }
    }
}

width: Int = 256
height: Int = 256
