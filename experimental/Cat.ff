main(system: NodeSystem) {
    Log.debugDynamic(system.arguments())
    let outputFileName = system.arguments().toList().grabFirst()
    let fileNames = system.arguments().toList().dropFirst()
    let result = cat(system.files(), fileNames)
    system.files().writeStream(outputFileName, result)
}

cat(fs: FileSystem, fileNames: List[String]): Stream[Buffer] {
    fileNames.toStream().flatMap {fileName =>
        fs.readStream(fileName)
    }
}
