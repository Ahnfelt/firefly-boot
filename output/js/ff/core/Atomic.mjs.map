{
    "version": 3,
    "sources": [
        "../../../../../core/Atomic.ff"
    ],
    "sourcesContent": [
        "class Atomic[T] {}\r\n\r\nnew[T](value: T): Atomic[T] {\r\n    Js->(value = value!)?\r\n}\r\n\r\nextend self[T]: Atomic[T] {\r\n\r\n    modify(body: T => T): T {\r\n        if(Js.inAsync()) {\r\n            mutable currentValue = self!->value\r\n            mutable newValue = body(self!->value?)\r\n            while {currentValue !== self!->value} {\r\n                currentValue = self!->value\r\n                newValue = body(self!->value?)\r\n            }\r\n            self!->value = newValue!\r\n            newValue\r\n        } else {\r\n            let newValue = body(self!->value?)\r\n            self!->value = newValue!\r\n            newValue\r\n        }\r\n    }\r\n\r\n    getAndModify(body: T => T): T {\r\n        mutable currentValue = self!->value\r\n        if(Js.inAsync()) {\r\n            mutable newValue = body(self!->value?)\r\n            while {currentValue !== self!->value} {\r\n                currentValue = self!->value\r\n                newValue = body(self!->value?)\r\n            }\r\n            self!->value = newValue!\r\n            currentValue?\r\n        } else {\r\n            let newValue = body(self!->value?)\r\n            self!->value = newValue!\r\n            currentValue?\r\n        }\r\n    }\r\n\r\n    get(): T {\r\n        self!->value?\r\n    }\r\n\r\n    set(value: T): Unit {\r\n        self!->value = value!\r\n    }\r\n\r\n    getAndSet(newValue: T): T {\r\n        let currentValue = self!->value\r\n        self!->value = newValue!\r\n        currentValue?\r\n    }\r\n\r\n    compareAndSet(currentValue: T, newValue: T): Bool {\r\n        if(self!->value !== currentValue!) {False} else:\r\n        self!->value = newValue!\r\n        True\r\n    }\r\n\r\n}\r\n"
    ],
    "names": [
        "new",
        "value",
        "modify",
        "self",
        "body",
        "currentValue",
        "newValue",
        "getAndModify",
        "get",
        "set",
        "getAndSet",
        "compareAndSet"
    ],
    "mappings": "A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77A77AAAM777AsOAENsSAAAAsIAAAsCAAOCsMAAPsCAAA7AACwBsOAApBsCAAKsAAAAAsKAALsEAAaAsMAAb7AADJ77AsOAAAseAAADsKAAAsCAAOCsMsEAAPsKAAAsCAAA7AACwBsOAApBsCAAKsAAAAAsKAALsEAAaAsMAAb7AADJ77AAIOsOAEHsSAAACsaAAAsCAFGCsKsEAEICsKAAPsCAAA7AACUsGAAAsKAAA7AACMsIAAACsaAAAsGAAeFsKAAOsCAAAFsKAAtB7AACAsIAAAKsSAAAsGAAWFsKAAAsCAAKDsKAAOsCAAAFsKAAZsCAAX7AACRsKAAAsCAAoBsCAAbIsaAAasKAAIFsKAAOsCAAAFsKAAXsCAApB7AACIIsaAAAsGAAeFsKAAOsCAAAFsKACtC7AAAgBKsSAAAsGAAWFsKAAAsCAAKDsKAAOsCAAAFsKAAZ7AAFfsCAIZ7AAAYEsKAAOsCAAAFsKAAHsGAAWKsSAC3B7AAAYsOAAAA7AAREsOASJ7AACMsMAAAAsSAAAsGAAWFsKAAAsCAAKDsKAAOsCAAAFsKAAZsCAAX7AACJEsKAAOsCAAAFsKAAHsGAAWKsSAC3B7AAAYsOAAAA7AAHF7AAVN77AAFGsOAmBHsSAAACsmBAAAsCAnBGJsKsEAmBUCsKAAbsCAAA7AACYsIAAACsaAAAsGAAeFsKAAOsCAAAFsKAAtB7AACFsGAAAsKAAA7AACMsIAAAKsSAAAsGAAWFsKAAAsCAAKDsKAAOsCAAAFsKAAZsCAAX7AACRsKAAAsCAAoBsCAAbIsaAAasKAAIFsKAAOsCAAAFsKAAXsCAApB7AACIIsaAAAsGAAeFsKAAOsCAAAFsKACtC7AAAgBKsSAAAsGAAWFsKAAAsCAAKDsKAAOsCAAAFsKAAZ7AAFfsCAIZ7AAAYEsKAAOsCAAAFsKAAHsGAAWKsSAC3B7AAAwBsOAAZD7AAPEsOAQJ7AACMsMAAACsSAAAsGAAWFsKAAAsCAAKDsKAAOsCAAAFsKAAZsCAAX7AACJEsKAAOsCAA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"
}