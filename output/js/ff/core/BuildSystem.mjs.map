{
    "version": 3,
    "sources": [
        "../../../../core/BuildSystem.ff"
    ],
    "sourcesContent": [
        "capability BuildSystem {}\r\n\r\nextend self: BuildSystem {\r\n\r\n    compileForBrowser(mainFiles: List[String]): AssetSystem {\r\n        // TODO: Check that the mainFile is in the current package directory\r\n        internalCompile(self, mainFiles.map {internalPath(self, _)}, \"browser\")\r\n        let streams = internalListDirectory(internalPath(self, \".firefly/output/browser\"))\r\n        let mainPackagePair = internalMainPackagePair(self)\r\n        AssetSystem(streams.toMap())\r\n    }\r\n\r\n    bundleForBrowser(mainFiles: List[String], minify: Bool = True, sourceMaps: Bool = False): AssetSystem {\r\n        internalCompile(self, mainFiles.map {internalPath(self, _)}, \"browser\")\r\n        let browserOutputPath = internalPath(self, \".firefly/output/browser\")\r\n        let runPaths = internalListPath(browserOutputPath).filter {_.base().endsWith(\".run.mjs\")}.toList()\r\n        if(Js.globalThis()->ffDevelopMode.typeof() == \"undefined\") {\r\n            let outputPath = runPaths.grabFirst().parent().grab()\r\n            let start = self.mainTask().elapsed()\r\n            internalBrowserCallEsBuild(self, runPaths.map {_.absolute()}, outputPath.absolute(), minify, sourceMaps)\r\n            let bundlePaths = runPaths.flatMap {p =>\r\n                let outputPath = p.parent().grab()\r\n                let bundlePath = outputPath.slash(p.base().removeLast(\".mjs\").grab() + \".bundle.js\")\r\n                let mapPath = outputPath.slash(p.base().removeLast(\".mjs\").grab() + \".bundle.js.map\")\r\n                [bundlePath, mapPath]\r\n            }\r\n            AssetSystem(bundlePaths.map {p => \r\n                Pair(\"/\" + p.relativeListTo(browserOutputPath).join(\"/\"), {p.readStream()})\r\n            }.toMap())\r\n        } else {\r\n            mutable built = Set.new()\r\n            let lock = self.mainTask().lock()\r\n            AssetSystem(runPaths.flatMap {p =>\r\n                let outputPath = p.parent().grab()\r\n                let bundlePath = outputPath.slash(p.base().removeLast(\".mjs\").grab() + \".bundle.js\")\r\n                let mapPath = outputPath.slash(p.base().removeLast(\".mjs\").grab() + \".bundle.js.map\")\r\n                let bundleAssetPath = \"/\" + bundlePath.relativeListTo(browserOutputPath).join(\"/\")\r\n                let mapAssetPath = \"/\" + mapPath.relativeListTo(browserOutputPath).join(\"/\")\r\n                function bundle() {\r\n                    lock.do {\r\n                        if(!built.contains(p.absolute())) {\r\n                            internalBrowserCallEsBuild(self, [p.absolute()], outputPath.absolute(), minify, sourceMaps)\r\n                            built = built.add(p.absolute())\r\n                        }\r\n                        bundlePath.readStream()\r\n                    }\r\n                }\r\n                let bundleEntry = Pair(bundleAssetPath, {\r\n                    bundle()\r\n                    bundlePath.readStream()\r\n                })\r\n                let mapEntry = Pair(mapAssetPath, {\r\n                    bundle()\r\n                    mapPath.readStream()\r\n                })\r\n                [bundleEntry, mapEntry]\r\n            }.toMap())\r\n        }\r\n    }\r\n    \r\n    setAssets(assetSystem: AssetSystem): Unit {\r\n        self!->\"assets_\" = assetSystem!\r\n    }\r\n\r\n    packageAssets(): AssetSystem {\r\n        let streams = internalListDirectory(internalPath(self, \".\"))\r\n        AssetSystem(streams.toMap())\r\n    }\r\n\r\n    dependencyAssets(user: String, package: String): AssetSystem {\r\n        panic(\"dependencyAssets not yet implemented\")\r\n    }\r\n\r\n    arguments(): List[String] {\r\n        self!->\"array_\"?\r\n    }\r\n\r\n    mainTask(): Task {\r\n        self!->\"task_\"?\r\n    }\r\n\r\n    crypto(): Crypto {\r\n        Js->crypto?\r\n    }\r\n        \r\n}\r\n\r\ninternalBrowserCallEsBuild(\r\n    self: BuildSystem\r\n    mainJsFiles: List[String]\r\n    outputPath: String\r\n    minify: Bool\r\n    sourceMap: Bool\r\n): Unit {\r\n    let esbuild = Js.import(\"esbuild\")\r\n    Js.await(esbuild->build(Js->(\r\n        entryPoints = mainJsFiles\r\n        bundle = True\r\n        minify = minify\r\n        sourcemap = sourceMap\r\n        platform = \"browser\"\r\n        target = \"es2017\"\r\n        outdir = outputPath\r\n        outExtension = Js.object().with(\".js\", \".bundle.js\")\r\n    )))\r\n}\r\n\r\ninternalNodeCallEsBuild(\r\n    self: NodeSystem\r\n    mainJsFile: String\r\n    outputPath: String\r\n    minify: Bool\r\n): Unit {\r\n    let esbuild = Js.import(\"esbuild\")\r\n    Js.await(esbuild->build(Js->(\r\n        entryPoints = [mainJsFile]\r\n        bundle = True\r\n        minify = minify\r\n        sourcemap = True\r\n        platform = \"node\"\r\n        target = \"es2017\"\r\n        external = [\"esbuild\", \"uws.js\"]\r\n        loader = Js.object().with(\".node\", \"copy\")\r\n        outdir = outputPath\r\n    )))\r\n}\r\n\r\ninternalNodeCallEsBuildContext(\r\n    self: NodeSystem\r\n    mainJsFile: String\r\n    outputPath: String\r\n    minify: Bool\r\n): JsValue {\r\n    let esbuild = Js.import(\"esbuild\")\r\n    Js.await(esbuild->context(Js->(\r\n        entryPoints = [mainJsFile]\r\n        bundle = True\r\n        minify = minify\r\n        sourcemap = True\r\n        platform = \"node\"\r\n        target = \"es2017\"\r\n        external = [\"esbuild\", \"uws.js\"]\r\n        loader = Js.object().with(\".node\", \"copy\")\r\n        outfile = outputPath\r\n    )))    \r\n}\r\n\r\ninternalListDirectory(path: Path): List[Pair[String, () => Stream[Buffer]]] {\r\n    function go(currentPath: Path): Stream[Path] {\r\n        currentPath.entries().flatMap {file =>\r\n            if(file.isDirectory()) {\r\n                go(file.path())\r\n            } else {\r\n                [file.path()].toStream()\r\n            }\r\n        }\r\n    }\r\n    go(path).map {file =>\r\n        Pair(\"/\" + file.relativeTo(path).replace(\"\\\\\", \"/\"), {file.readStream()})\r\n    }.toList()\r\n}\r\n\r\ninternalListPath(path: Path): Stream[Path] {\r\n    path.entries().flatMap {file =>\r\n        if(file.isDirectory()) {\r\n            internalListPath(file.path())\r\n        } else {\r\n            [file.path()].toStream()\r\n        }\r\n    }\r\n}\r\n\r\ninternalPath(buildSystem: BuildSystem, absoluteOrRelative: String): Path {\r\n    let nodePath = Js.import(\"path\")\r\n    Path(nodePath->resolve(absoluteOrRelative)?)\r\n}\r\n\r\ninternalCompile(buildSystem: BuildSystem, mainFiles: List[Path], target: String): Unit {\r\n    if(Js.globalThis()->ffDevelopMode.typeof() != \"undefined\") {\r\n        Js->process->send(Js->(\r\n            ffDevelopMode = \"internalCompile\"\r\n            mainFiles = mainFiles.map {_.absolute()}\r\n            target = target\r\n        ))\r\n        Js.awaitCancellablePromise {resolve, reject, cleanup =>\r\n            Js->process->on(\"message\", Js->{message => \r\n                if(message->ffDevelopMode === \"internalCompile\") {\r\n                    resolve(Unit) // Handle errors?\r\n                }\r\n            })\r\n        }\r\n    } else:\r\n    // Ported from the old FFI. It's quite fragile w.r.t. changes in code generation.\r\n    Js.await(Js.rawIdentifier(\"$firefly_compiler\")->\"buildViaBuildSystem_$\"(\r\n        buildSystem! \r\n        internalPath(buildSystem, buildSystem!->\"fireflyPath_\"?)!\r\n        mainFiles!\r\n        target\r\n        Js.undefined()\r\n        Js.undefined()\r\n        Js.currentTask()!\r\n    ))\r\n}\r\n\r\ninternalMainPackagePair(buildSystem: BuildSystem): Pair[String, String] {\r\n    Pair(buildSystem!->\"mainPackagePair_\"->\"group_\"?, buildSystem!->\"mainPackagePair_\"->\"name_\"?)\r\n}\r\n\r\ninternalWriteAssets(system: NodeSystem, assetSystem: AssetSystem): Unit {\r\n    let path = system.path(\".\").slash(\".firefly\").path(\"output\").slash(\"assets\")\r\n    if(path.exists()) {path.delete()}\r\n    path.createDirectory()\r\n    Log.debug(\"Writing assets to \" + path.absolute())\r\n    assetSystem.files.each {p, s =>\r\n        Log.debug(p)\r\n        if(!p.contains(\"..\")) {\r\n            let assetPath = path.slash(p)\r\n            assetPath.parent().grab().createDirectory(createParentDirectories = True)\r\n            assetPath.writeStream(s())\r\n        }\r\n    }\r\n}\r\n\r\ninternalReadAssets(system: NodeSystem): AssetSystem {\r\n    let path = system.path(\".\").slash(\".firefly\").path(\"output\").slash(\"assets\")\r\n    Log.debug(\"Reading assets from \" + path.absolute())\r\n    let streams = internalListDirectory(path)\r\n    AssetSystem(streams.toMap())\r\n}\r\n"
    ],
    "names": [
        "internalBrowserCallEsBuild",
        "self",
        "mainJsFiles",
        "outputPath",
        "minify",
        "sourceMap",
        "esbuild",
        "build",
        "entryPoints",
        "bundle",
        "sourcemap",
        "platform",
        "target",
        "outdir",
        "outExtension",
        "internalNodeCallEsBuild",
        "mainJsFile",
        "external",
        "loader",
        "internalNodeCallEsBuildContext",
        "context",
        "outfile",
        "internalListDirectory",
        "path",
        "go",
        "currentPath",
        "flatMap",
        "entries",
        "file",
        "isDirectory",
        "toStream",
        "toList",
        "map",
        "Pair",
        "replace",
        "relativeTo",
        "readStream",
        "internalListPath",
        "internalPath",
        "buildSystem",
        "absoluteOrRelative",
        "nodePath",
        "Path",
        "resolve",
        "internalCompile",
        "mainFiles",
        "ffDevelopMode",
        "\"process\"",
        "send",
        "w1",
        "absolute",
        "awaitCancellablePromise",
        "reject",
        "cleanup",
        "on",
        "message",
        "internalMainPackagePair",
        "internalWriteAssets",
        "system",
        "assetSystem",
        "slash",
        "exists",
        "delete",
        "createDirectory",
        "debug",
        "each",
        "files",
        "p",
        "s",
        "contains",
        "assetPath",
        "grab",
        "parent",
        "writeStream",
        "internalReadAssets",
        "streams",
        "AssetSystem",
        "toMap",
        "compileForBrowser",
        "mainPackagePair",
        "bundleForBrowser",
        "sourceMaps",
        "browserOutputPath",
        "runPaths",
        "filter",
        "endsWith",
        "base",
        "grabFirst",
        "start",
        "elapsed",
        "mainTask",
        "bundlePaths",
        "bundlePath",
        "removeLast",
        "mapPath",
        "join",
        "relativeListTo",
        "built",
        "new",
        "lock",
        "bundleAssetPath",
        "mapAssetPath",
        "do",
        "add",
        "bundleEntry",
        "mapEntry",
        "setAssets",
        "packageAssets",
        "dependencyAssets",
        "user",
        "package",
        "panic",
        "arguments",
        "crypto",
        "\"crypto\""
    ],
    "mappings": "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"
}